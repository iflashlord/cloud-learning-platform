/**
 * üé® Design System CSS
 * 
 * Global styles and CSS custom properties for the AWS Learning Platform design system.
 * This file ensures consistency across all components and provides fallbacks.
 */

@layer base {
  /* ========================================
     üéØ DESIGN SYSTEM CSS VARIABLES
     ======================================== */
  
  :root {
    /* Spacing Scale */
    --ds-space-xs: 0.25rem;    /* 4px */
    --ds-space-sm: 0.5rem;     /* 8px */  
    --ds-space-md: 0.75rem;    /* 12px */
    --ds-space-lg: 1rem;       /* 16px */
    --ds-space-xl: 1.5rem;     /* 24px */
    --ds-space-2xl: 2rem;      /* 32px */
    --ds-space-3xl: 3rem;      /* 48px */
    --ds-space-4xl: 4rem;      /* 64px */
    
    /* Border Radius Scale */
    --ds-radius-sm: 0.125rem;  /* 2px */
    --ds-radius-md: 0.375rem;  /* 6px */
    --ds-radius-lg: 0.5rem;    /* 8px */
    --ds-radius-xl: 0.75rem;   /* 12px */
    --ds-radius-2xl: 1rem;     /* 16px */
    
    /* Typography Scale */
    --ds-text-xs: 0.75rem;     /* 12px */
    --ds-text-sm: 0.875rem;    /* 14px */
    --ds-text-base: 1rem;      /* 16px */
    --ds-text-lg: 1.125rem;    /* 18px */
    --ds-text-xl: 1.25rem;     /* 20px */
    --ds-text-2xl: 1.5rem;     /* 24px */
    --ds-text-3xl: 1.875rem;   /* 30px */
    --ds-text-4xl: 2.25rem;    /* 36px */
    
    /* Status Colors (HSL for better manipulation) */
    --ds-success-50: 142 76% 96%;
    --ds-success-100: 142 76% 90%;
    --ds-success-500: 142 76% 45%;
    --ds-success-600: 142 76% 40%;
    --ds-success-700: 142 76% 35%;
    
    --ds-error-50: 0 86% 96%;
    --ds-error-100: 0 86% 90%;
    --ds-error-500: 0 86% 55%;
    --ds-error-600: 0 86% 50%;
    --ds-error-700: 0 86% 45%;
    
    --ds-warning-50: 48 100% 96%;
    --ds-warning-100: 48 100% 88%;
    --ds-warning-500: 48 100% 55%;
    --ds-warning-600: 48 100% 50%;
    --ds-warning-700: 48 100% 45%;
    
    --ds-info-50: 204 100% 97%;
    --ds-info-100: 204 100% 90%;
    --ds-info-500: 204 100% 55%;
    --ds-info-600: 204 100% 50%;
    --ds-info-700: 204 100% 45%;
    
    /* Neutral Colors */
    --ds-neutral-0: 0 0% 100%;
    --ds-neutral-50: 210 40% 98%;
    --ds-neutral-100: 210 40% 96%;
    --ds-neutral-200: 214 32% 91%;
    --ds-neutral-300: 213 27% 84%;
    --ds-neutral-400: 215 20% 65%;
    --ds-neutral-500: 215 16% 47%;
    --ds-neutral-600: 215 19% 35%;
    --ds-neutral-700: 215 25% 27%;
    --ds-neutral-800: 217 33% 17%;
    --ds-neutral-900: 222 47% 11%;
    
    /* Shadows */
    --ds-shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --ds-shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --ds-shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --ds-shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    
    /* Animation Durations */
    --ds-duration-fast: 150ms;
    --ds-duration-normal: 300ms;
    --ds-duration-slow: 500ms;
  }
  
  /* ========================================
     üé® COMPONENT BASE STYLES
     ======================================== */
  
  /* Consistent focus styles for accessibility */
  .ds-focus-visible:focus-visible {
    outline: 2px solid hsl(var(--ds-info-500));
    outline-offset: 2px;
  }
  
  /* Interactive element base */
  .ds-interactive {
    cursor: pointer;
    transition: transform var(--ds-duration-fast) ease-in-out;
  }
  
  .ds-interactive:hover {
    transform: scale(1.02);
  }
  
  .ds-interactive:active {
    transform: scale(0.98);
  }
  
  /* Disabled state */
  .ds-disabled {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
  }
  
  /* ========================================
     üéØ STATUS STYLES
     ======================================== */
  
  .ds-status-success {
    background-color: hsl(var(--ds-success-100));
    color: hsl(var(--ds-success-700));
    border-color: hsl(var(--ds-success-200));
  }
  
  .ds-status-error {
    background-color: hsl(var(--ds-error-100));
    color: hsl(var(--ds-error-700));
    border-color: hsl(var(--ds-error-200));
  }
  
  .ds-status-warning {
    background-color: hsl(var(--ds-warning-100));
    color: hsl(var(--ds-warning-700));
    border-color: hsl(var(--ds-warning-200));
  }
  
  .ds-status-info {
    background-color: hsl(var(--ds-info-100));
    color: hsl(var(--ds-info-700));
    border-color: hsl(var(--ds-info-200));
  }
  
  /* ========================================
     üìê LAYOUT UTILITIES
     ======================================== */
  
  .ds-container {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 var(--ds-space-lg);
  }
  
  .ds-stack {
    display: flex;
    flex-direction: column;
    gap: var(--ds-space-lg);
  }
  
  .ds-stack-sm {
    gap: var(--ds-space-sm);
  }
  
  .ds-stack-md {
    gap: var(--ds-space-md);
  }
  
  .ds-stack-lg {
    gap: var(--ds-space-lg);
  }
  
  .ds-stack-xl {
    gap: var(--ds-space-xl);
  }
  
  .ds-flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .ds-flex-between {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  
  .ds-grid-responsive {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--ds-space-lg);
  }
  
  /* ========================================
     üìù TYPOGRAPHY STYLES
     ======================================== */
  
  .ds-heading-1 {
    font-size: var(--ds-text-4xl);
    font-weight: 700;
    line-height: 1.1;
    letter-spacing: -0.025em;
    color: hsl(var(--ds-neutral-900));
  }
  
  .ds-heading-2 {
    font-size: var(--ds-text-3xl);
    font-weight: 700;
    line-height: 1.2;
    letter-spacing: -0.025em;
    color: hsl(var(--ds-neutral-900));
  }
  
  .ds-heading-3 {
    font-size: var(--ds-text-2xl);
    font-weight: 600;
    line-height: 1.3;
    color: hsl(var(--ds-neutral-900));
  }
  
  .ds-heading-4 {
    font-size: var(--ds-text-xl);
    font-weight: 600;
    line-height: 1.4;
    color: hsl(var(--ds-neutral-900));
  }
  
  .ds-body-large {
    font-size: var(--ds-text-lg);
    line-height: 1.6;
    color: hsl(var(--ds-neutral-700));
  }
  
  .ds-body {
    font-size: var(--ds-text-base);
    line-height: 1.5;
    color: hsl(var(--ds-neutral-700));
  }
  
  .ds-body-small {
    font-size: var(--ds-text-sm);
    line-height: 1.4;
    color: hsl(var(--ds-neutral-600));
  }
  
  .ds-text-muted {
    color: hsl(var(--ds-neutral-500));
  }
  
  .ds-text-emphasis {
    font-weight: 600;
    color: hsl(var(--ds-neutral-900));
  }
}

@layer components {
  /* ========================================
     üß© COMPONENT OVERRIDES
     ======================================== */
  
  /* Ensure all buttons follow design system */
  .btn-override {
    border-radius: var(--ds-radius-lg);
    font-weight: 600;
    transition: all var(--ds-duration-normal) ease-in-out;
    border: 1px solid transparent;
  }
  
  /* Card component consistency */
  .card-override {
    background-color: white;
    border: 1px solid hsl(var(--ds-neutral-200));
    border-radius: var(--ds-radius-lg);
    box-shadow: var(--ds-shadow-sm);
    transition: all var(--ds-duration-normal) ease-in-out;
  }
  
  .card-override:hover {
    box-shadow: var(--ds-shadow-md);
  }
  
  /* Input field consistency */
  .input-override {
    border: 1px solid hsl(var(--ds-neutral-300));
    border-radius: var(--ds-radius-lg);
    padding: var(--ds-space-md) var(--ds-space-lg);
    font-size: var(--ds-text-sm);
    transition: all var(--ds-duration-normal) ease-in-out;
  }
  
  .input-override:focus {
    outline: none;
    border-color: hsl(var(--ds-info-500));
    box-shadow: 0 0 0 3px hsl(var(--ds-info-100));
  }
  
  /* ========================================
     üé® LEGACY OVERRIDES (Migration Support)
     ======================================== */
  
  /* Override hardcoded colors during migration */
  .bg-orange-400 {
    background-color: hsl(var(--primary)) !important;
  }
  
  .text-orange-400,
  .text-orange-500,
  .text-orange-600 {
    color: hsl(var(--primary)) !important;
  }
  
  .bg-rose-500 {
    background-color: hsl(var(--ds-error-500)) !important;
  }
  
  .text-rose-500,
  .text-rose-600 {
    color: hsl(var(--ds-error-600)) !important;
  }
  
  .bg-green-500 {
    background-color: hsl(var(--ds-success-500)) !important;
  }
  
  .text-green-500,
  .text-green-600 {
    color: hsl(var(--ds-success-600)) !important;
  }
  
  .bg-blue-500 {
    background-color: hsl(var(--ds-info-500)) !important;
  }
  
  .text-blue-500,
  .text-blue-600 {
    color: hsl(var(--ds-info-600)) !important;
  }
  
  .bg-yellow-500 {
    background-color: hsl(var(--ds-warning-500)) !important;
  }
  
  .text-yellow-500,
  .text-yellow-600 {
    color: hsl(var(--ds-warning-600)) !important;
  }
  
  /* Ensure consistent gray usage */
  .bg-gray-100 {
    background-color: hsl(var(--ds-neutral-100)) !important;
  }
  
  .text-gray-500,
  .text-gray-600 {
    color: hsl(var(--ds-neutral-600)) !important;
  }
  
  .border-gray-200,
  .border-gray-300 {
    border-color: hsl(var(--ds-neutral-200)) !important;
  }
}

@layer utilities {
  /* ========================================
     üîß UTILITY CLASSES
     ======================================== */
  
  /* Responsive hiding */
  .ds-hide-mobile {
    @media (max-width: 768px) {
      display: none;
    }
  }
  
  .ds-hide-desktop {
    @media (min-width: 768px) {
      display: none;
    }
  }
  
  /* Truncate text */
  .ds-truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  
  /* Screen reader only */
  .ds-sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }
}

/* ========================================
   üí° MIGRATION HELPERS
   ======================================== */

/*
 * These styles help during the migration process by providing
 * fallbacks and consistent overrides for hardcoded colors.
 * Remove this section after migration is complete.
 */

/* Development helper - highlight non-design-system components */
@media (prefers-color-scheme: dark) {
  [class*="bg-orange-"]:not(.ds-migrated),
  [class*="bg-rose-"]:not(.ds-migrated),
  [class*="bg-green-"]:not(.ds-migrated) {
    /* Subtle indicator for components that need migration */
    outline: 1px dashed rgba(255, 255, 0, 0.3);
  }
}